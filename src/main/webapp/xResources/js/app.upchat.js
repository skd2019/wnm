(function(e){var n=window.location.href.indexOf("https")==0?"https":"http";var t={URLS:{PAGE_CONTEXT_URL:n+"://upchat.95516.net/public/scripts"}};e.CONFIG=t})(typeof window!=="undefined"?window:module.exports);(function(e,n,t){n.M=n.M||{};n.M.NAPI=n.M.NAPI||{};var i=function(){var e=window.PhoneGap||window.Cordova||window.cordova;return e};var o=function(){var e=window.wkWebkit;return e};var r=function(){var e=window.pcelectron;return e};var a=function(e){return typeof e=="string"&&e.constructor==String};function u(){var e=navigator.userAgent.toLowerCase();return/upchat/.test(e)?true:false}function s(){var e=navigator.userAgent.toLowerCase();var n=new RegExp(/(android)\s+([\d.]+)/);return n.test(e)}function c(){var e=navigator.userAgent.toLowerCase();var n=new RegExp(/nitro/);return n.test(e)}function l(){var e=navigator.userAgent.toLowerCase();var n=new RegExp(/electron/);return n.test(e)}var f=function(e,n,t,u,s,f){var v=function(n){var t="";try{t=a(n)?JSON.parse(n):n}catch(i){t=n}!!e&&e.apply(null,[t])};var w=function(e){var t="";try{t=a(e)?JSON.parse(e):e}catch(i){t=e}!!n&&n.apply(null,[t])};if(c()){o().require("wkWebkit/exec")(v,w,t,u,[s,f])}else if(l()){r().requireMol("pcelectron/exec")(v,w,t,u,[s,f])}else{i().exec(v,w,t,u,[s,f])}};e.extend(n.M.NAPI,{showWaitingView:function(){if(u()){f(null,null,"UPWebUI","showWaitingView",{})}},showLoadingView:function(){if(u()){f(null,null,"UPWebUI","showLoadingView",{})}},showFlashInfo:function(e){if(u()){f(null,null,"UPWebUI","showFlashInfo",e)}},showAlertView:function(e,n,t){if(u()){f(e,n,"UPWebUI","showAlertView",t)}},dismiss:function(){if(u()){f(null,null,"UPWebUI","dismiss",{})}},startNewWebView:function(e,n){if(u()){f(null,null,"UPWebUI","startNewWebView",e,n)}},closeWebView:function(e){if(u()){f(null,null,"UPWebUI","closeWebView",e)}},showWaterMark:function(e,n,t){if(u()){f(e,n,"UPWebUI","showWaterMark",t)}},hiddenWaterMark:function(e,n,t){if(u()){f(e,n,"UPWebUI","hiddenWaterMark",t)}},downloadFile:function(e,n,t){if(u()){f(e,n,"UPFileManagerPlugin","downloadFile",t)}},saveFile:function(e,n,t){if(u()){f(e,n,"UPFileManagerPlugin","saveFile",t)}},openFile:function(e,n,t){if(u()){f(e,n,"UPFileManagerPlugin","openFile",t)}},getFileInfo:function(e,n,t){if(u()){f(e,n,"UPFileManagerPlugin","getFileInfo",t)}},setBarStatus:function(e){if(u()){f(null,null,"UPWebBars","setBarStatus",e)}},setNavigationBarTitle:function(e){if(u()){f(null,null,"UPWebBars","setNavigationBarTitle",e)}},setNavigationBarSubTitle:function(e){if(u()){f(null,null,"UPWebBars","setNavigationBarSubTitle",e)}},cleanSubTitle:function(){if(u()){f(null,null,"UPWebBars","cleanSubTitle",{})}},setNavigationBarColor:function(e){if(u()){f(null,null,"UPWebBars","setNavigationBarColor",e)}},setMoreButton:function(e){if(u()){f(null,null,"UPWebBars","setMoreButton",e)}},getSecurity:function(e,n){if(u()){f(e,n,"UPChatPluginPublicAccount","getSecurity",{})}},getDomainSecurity:function(e,n){if(u()){f(e,n,"UPChatPluginPublicAccount","getDomainSecurity",{})}else{n()}},fetchUserId:function(e,n){if(u()){f(e,n,"UPChatPlugin","fetchUserId",{})}},getApplicationList:function(e,n){if(u()){f(e,n,"UPApplication","getApplicationList")}},returnOpenSchemeApp:function(e,n){if(u()){f(e,n,"UPOpenSchemeApp","returnOpenSchemeApp")}},getLocation:function(e,n){if(u()){f(e,n,"UPLocation","getLocation",{})}},openFileChooser:function(e,n){if(u()&&s()){f(e,n,"FileChooser","open",{})}},choosePhoto:function(e,n){if(u()){f(e,n,"UPImagePicker","chooseImage",{})}},showPhotos:function(e,n,t){if(u()){f(e,n,"UPWebUI","showPhotos",t)}},showMenu:function(e,n,t){if(u()){f(e,n,"UPWebUI","showMenu",t)}},openPublicChat:function(e,n,t){if(u()){f(e,n,"UPChatPlugin","openPublicChat",t)}else{n()}},getAesKey:function(e,n){if(u()){f(e,n,"UPImagePicker","getaeskey",{})}},validateShare:function(e,n,t){if(u()){f(e,n,"UPShare","validateShare",t)}},shareApp:function(e,n,t){if(u()){f(e,n,"UPShareApp","shareApp",t)}},getGestureSecurity:function(e,n){if(u()){f(e,n,"UPChatPluginPublicAccount","getGestureSecurity",{})}},startPay:function(e,n,t){if(u()){f(e,n,"UPBasicPay","startPay",t)}},startCodeScanView:function(e,n,t){if(u()){f(e,n,"UPCodeScan","startCodeScanView",t)}}});n.M.init=function(e){if(u()){if(c()){if(window.webkit&&window.webkit.messageHandlers){e()}}else if(l()){e()}else{document.addEventListener("deviceready",e,false)}}else{e()}};n.M.isNative=u})(jQuery,window.UPCHAT=window.UPCHAT||{});var query2Obj=function(e){if(e[0]==="?"||e[0]==="#"){e=e.substring(1)}var n={};e.replace(/\b([^&=]*)=([^&=]*)/g,function(e,t,i){if(typeof n[t]!="undefined"){n[t]+=","+decodeURIComponent(i)}else{n[t]=decodeURIComponent(i)}});return n};var isNative=function(){var e=navigator.userAgent.toLowerCase();return/upchat/.test(e)?true:false};var isIos=function(){var e=navigator.userAgent.toLowerCase();var n=new RegExp(/iphone|ipad/);return n.test(e)};var isWk=function(){var e=navigator.userAgent.toLowerCase();var n=new RegExp(/nitro/);return n.test(e)};function isElectron(){var e=navigator.userAgent.toLowerCase();var n=new RegExp(/electron/);return n.test(e)}var osp=isIos()?"ios_":"android_",version="3.0.0";var query=query2Obj(location.search);var cordova_ver=query.cver?query.cver:"";cordova_ver=cordova_ver||version;if(isNative()){if(isIos()&&isWk()){document.write('<script type="text/javascript" src="'+CONFIG.URLS.PAGE_CONTEXT_URL+'/cordova/min/wk_webkit-min.js"></script>')}else if(isElectron()){document.write('<script type="text/javascript" src="'+CONFIG.URLS.PAGE_CONTEXT_URL+'/cordova/min/electron-min.js"></script>')}else{document.write('<script type="text/javascript" src="'+CONFIG.URLS.PAGE_CONTEXT_URL+"/cordova/min/cordova."+osp+cordova_ver+'-min.js"></script>')}}